# 需求分析与澄清 (Requirement Analysis & Clarifications)

## 1. 核心需求分析 (Core Analysis)
根据您提供的表格和描述，目标是构建一个 **“通用场景教练 APP (Scenario Coach)”**。
当前聚焦模块：**场景选择页 (Scenario Selection)**。

### 1.1 平台与语言 (Platform & Language)
*   **平台**: 移动端 (Mobile-First)。这意味着布局需要适配竖屏，操作交互以触摸（Tap/Swipe）为主。
*   **语言**: 中文 (Chinese)。所有界面文案、日期格式、提示语均需本地化。

### 1.2 视觉风格 (Visual Style)
*   **风格定义**: “医学场景、严肃、精致”。
*   **设计语言**:
    *   **色彩**: 以青色 (Teal/Cyan) 为主色调，代表洁净、专业、冷静；搭配 Slate (岩灰) 作为中性色；使用功能色（橙、紫、蓝）区分场景类型。
    *   **布局**: 高留白，卡片式设计 (Card UI)，阴影克制，强调信息层级。
    *   **交互**: 底部导航栏 (Bottom Tab Bar) 作为主要导航结构。

### 1.3 模块功能拆解 (Module Breakdown)
**场景选择页 (Scenario Selection)**
*   **头部 (Header)**:
    *   问候语 (时间敏感: 早上好/下午好)。
    *   当前日期。
    *   “新建场景 (+)” 入口。
*   **列表 (List)**:
    *   展示场景卡片。
    *   **卡片内容**: 标题、副标题 (中文)、简述、标签 (Tags)、主题色 (Theme Border)。
    *   **操作**:
        *   点击卡片 -> 进入“角色选择” (Role Selection)。
        *   编辑 -> 进入“场景编辑器” (Editor)。
        *   删除 -> 弹出确认框。
*   **底部导航 (Bottom Nav)**:
    *   设置 (Settings)、实战演练/场景 (Scenarios)、我的 (Profile/Roles)。

## 2. 待澄清事项 (Clarifications Needed)
在进一步开发复杂功能前，请澄清以下几点：

1.  **数据存储 (Data Persistence)**:
    *   目前使用 `LocalStorage` 模拟。未来是否需要对接后端 API？
    *   *假设*: 暂时使用本地存储，后续添加 API 层。

2.  **API Key 管理**:
    *   表格提到“配置 API Key”在设置页。这是否意味着用户必须先去设置页配置 Key 才能使用 AI 功能？
    *   *建议*: 在首次进入或调用 AI 时，如果检测不到 Key，自动弹出配置向导。

3.  **PDF/文本上传流程**:
    *   表格中“上传场景描述文档”是在“场景编辑页”的功能。
    *   *确认*: 在“场景选择页”点击“新建”后，是直接进入空白编辑器，还是先弹出一个弹窗让用户选择“从 PDF 创建”或“空白创建”？目前我实现为直接进入编辑器（占位符）。

4.  **移动端交互细节**:
    *   卡片的“编辑/删除”操作：在移动端，是推荐使用“向左滑动 (Swipe actions)”展示菜单，还是在卡片上放一个“更多 (...)”按钮？
    *   *当前实现*: 为了开发效率和直观性，暂时使用卡片右上角的可见图标，后续可优化为 Swipe。

## 3. 下一步计划 (Next Steps)
*   **模块 2**: 系统设置页 (API Key 配置, 模型选择)。
*   **模块 3**: 场景编辑器 (核心功能：PDF 解析, Prompt 工程)。
